<?xml version="1.0" encoding="UTF-8"?>
<!-- Created for UnlockEd usage report program participation subreport -->
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="user_usage_programs_subreport" pageWidth="535" pageHeight="842" whenNoDataType="AllSectionsNoDetail" columnWidth="535" leftMargin="0" rightMargin="0" topMargin="0" bottomMargin="0" uuid="8b9c7d6e-5f4e-3d2c-1b0a-987654321fed">
	<property name="com.jaspersoft.studio.data.defaultdataadapter" value="One Empty Record"/>
	<style name="TableHeader" forecolor="#666666" fontName="DejaVu Sans" fontSize="11" isBold="true"/>
	<style name="TableDetail" fontName="DejaVu Sans" fontSize="10"/>
	<style name="SubTitle" forecolor="#736343" fontName="DejaVu Sans" fontSize="12" isBold="true"/>

	<!-- Field definitions matching ResidentProgramClassInfo struct -->
	<field name="program_name" class="java.lang.String"/>
	<field name="class_name" class="java.lang.String"/>
	<field name="status" class="java.lang.String"/>
	<field name="enrollment_status" class="java.lang.String"/>
	<field name="start_date" class="java.lang.String"/>
	<field name="end_date" class="java.lang.String"/>
	<field name="attendance_percentage" class="java.lang.String"/>
	<field name="present_attendance" class="java.lang.Integer"/>
	<field name="absent_attendance" class="java.lang.Integer"/>
	<field name="credit_types" class="java.lang.String"/>
	<field name="class_id" class="java.lang.Integer"/>
	<field name="program_id" class="java.lang.Integer"/>
	<field name="updated_at" class="java.lang.String"/>
	<field name="change_reason" class="java.lang.String"/>

	<columnHeader>
		<band height="20" splitType="Stretch">
			<staticText>
				<reportElement x="0" y="0" width="140" height="20" uuid="9b8c7d6e-5f4e-3d2c-1b0a-987654321fed"/>
				<box leftPadding="2" rightPadding="2">
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="11" isBold="true"/>
				</textElement>
				<text><![CDATA[Program Name]]></text>
			</staticText>
			<staticText>
				<reportElement x="140" y="0" width="100" height="20" uuid="a1b2c3d4-e5f6-7890-1234-567890abcdef"/>
				<box leftPadding="2" rightPadding="2">
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="11" isBold="true"/>
				</textElement>
				<text><![CDATA[Class Name]]></text>
			</staticText>
			<staticText>
				<reportElement x="240" y="0" width="80" height="20" uuid="b2c3d4e5-f6a7-8901-2345-7890abcdef12"/>
				<box leftPadding="2" rightPadding="2">
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="11" isBold="true"/>
				</textElement>
				<text><![CDATA[Status]]></text>
			</staticText>
			<staticText>
				<reportElement x="320" y="0" width="80" height="20" uuid="c3d4e5f6-a7b8-9012-3456-890abcdef123"/>
				<box leftPadding="2" rightPadding="2">
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="11" isBold="true"/>
				</textElement>
				<text><![CDATA[Attendance]]></text>
			</staticText>
			<staticText>
				<reportElement x="400" y="0" width="135" height="20" uuid="d4e5f6a7-b8c9-0123-4567-90abcdef1234"/>
				<box leftPadding="2" rightPadding="2">
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="11" isBold="true"/>
				</textElement>
				<text><![CDATA[Program Dates]]></text>
			</staticText>
		</band>
	</columnHeader>
	<detail>
		<band height="16" splitType="Stretch">
			<textField>
				<reportElement x="0" y="0" width="140" height="16" uuid="f6a7b8c9-d0e1-2345-6789-000abcdef123"/>
				<box leftPadding="2" rightPadding="2">
					<leftPen lineWidth="1.0" lineColor="#CCCCCC"/>
					<bottomPen lineWidth="0.5" lineColor="#CCCCCC"/>
				</box>
				<textElement textAlignment="Left">
					<font fontName="DejaVu Sans" size="10"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{program_name}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="140" y="0" width="100" height="16" uuid="a7b8c9d0-e1f2-3456-7890-00abcdef1234"/>
				<box leftPadding="2" rightPadding="2">
					<bottomPen lineWidth="0.5" lineColor="#CCCCCC"/>
				</box>
				<textElement textAlignment="Left">
					<font fontName="DejaVu Sans" size="10"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{class_name}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="240" y="0" width="80" height="16" uuid="b8c9d0e1-f2a3-4567-8901-0bcdef123456"/>
				<box leftPadding="2" rightPadding="2">
					<bottomPen lineWidth="0.5" lineColor="#CCCCCC"/>
				</box>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="10"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{status}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="320" y="0" width="80" height="16" uuid="c9d0e1f2-a3b4-5678-9012-0cdef1234567"/>
				<box leftPadding="2" rightPadding="2">
					<bottomPen lineWidth="0.5" lineColor="#CCCCCC"/>
				</box>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="10"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{attendance_percentage}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="400" y="0" width="135" height="16" uuid="d0e1f2a3-b4c5-6789-0123-0def12345678"/>
				<box leftPadding="2" rightPadding="2">
					<bottomPen lineWidth="0.5" lineColor="#CCCCCC"/>
				</box>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="10"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{start_date} != null && !$F{start_date}.isEmpty() ?
					($F{end_date} != null && !$F{end_date}.isEmpty() ?
						(new SimpleDateFormat("MMM dd, yyyy")).format(new SimpleDateFormat("yyyy-MM-dd'T'HH:mm:ss'Z'").parse($F{start_date})) + " - " + (new SimpleDateFormat("MMM dd, yyyy")).format(new SimpleDateFormat("yyyy-MM-dd'T'HH:mm:ss'Z'").parse($F{end_date})) :
						(new SimpleDateFormat("MMM dd, yyyy")).format(new SimpleDateFormat("yyyy-MM-dd'T'HH:mm:ss'Z'").parse($F{start_date})) + " - Present"
					) : "N/A"]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<summary>
		<band height="15">
			<staticText>
				<reportElement x="0" y="0" width="535" height="15" uuid="e1f2a3b4-c5d6-7890-1234-0ef123456789"/>
				<box leftPadding="2"/>
				<textElement>
					<font fontName="DejaVu Sans" size="9" isItalic="true"/>
				</textElement>
				<text><![CDATA[Note: Attendance percentage is calculated based on present vs. total sessions.]]></text>
			</staticText>
		</band>
	</summary>
	<noData>
		<band height="30">
			<staticText>
				<reportElement x="0" y="10" width="535" height="20" uuid="e5f6a7b8-c9d0-1234-5678-9abcdef12345"/>
				<box leftPadding="2">
					<pen lineWidth="1.0" lineColor="#999999"/>
				</box>
				<textElement textAlignment="Center">
					<font fontName="DejaVu Sans" size="11" isItalic="true"/>
				</textElement>
				<text><![CDATA[No program participation data available for this resident]]></text>
			</staticText>
		</band>
	</noData>
</jasperReport>